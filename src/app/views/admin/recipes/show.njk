{% extends "layout.njk" %}

{% block content %}

<div class="recipe">

        <div class="top-header">
            <h1>Receita: {{ recipe.title }}</h1>
            <a href="{{ recipe.id }}/edit">Editar Receita</a>
        </div>        
       
        
        <section class="product-single">
            <div class="gallery">            
                <div class="highlight">
                {% if not files[0] %}
                    <img src="http://placehold.it/500x500?text=PRODUTO SEM FOTO">
                {% else %}
                    <img
                    src="{{files[0].src}}" 
                    alt="{{files[0].name}}"
                    onclick="Lightbox.open()"
                    >
                {% endif %}

                <div class="lightbox-target">
                    <img src="{{files[0].src}}" alt="{{files[0].name}}">
                    <a
                    href="#"
                    class="lightbox-close"
                    onclick="Lightbox.close()"
                    >
                    <i class="material-icons">close</i>
                    </a>
                </div>                              
                </div>


                <div class="gallery-preview">
                {% for image in files %}
                    <img
                    src="{{image.src}}" 
                    alt="{{image.name}}"
                    {% if loop.index0 == 0 %}
                    class="active"
                    {% endif %}
                    onclick="ImageGallery.setImage(event)"
                    >
                {% endfor %}
            </div>
        </section>


        <div class="recipe-header">
            <h1>{{ recipe.title }}</h1>
            <h2>Por {{ recipe.chefname }}</h2>
        </div>


        <div class="recipe-content">
            <div id="ingredients" class="topic">                
                <h3>Ingredientes</h3>                
                    <ul>
                        {% for ingredient in recipe.ingredients %}
                            <li>- {{ingredient}}</li>
                        {% endfor %}
                    </ul>                
            </div>

            <div id="preparation" class="topic">                
                <h3>Modo de Preparo</h3>                
                    <ul>
                        {% for preparation in recipe.preparation %}
                            <li>- {{preparation}}</li>
                        {% endfor %}
                    </ul>                
            </div>

            <div id="information" class="topic">                
                <h3>Informações Adicionais</h3>
                <p>{{recipe.information}}</p>                
            </div>
        </div>

    </div>

    <script src="/scripts.js"></script>
    <script src="/ingredientsPrepAdd.js"></script>     

{% endblock content %}